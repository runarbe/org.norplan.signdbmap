/*! signdbmap - v0.0.1 - 2016-01-02
* Copyright (c) 2016 ; Licensed  */
"use strict";var signDbMap=function(){var a={};a.Point=function(a,b,c){this.x=a,this.y=b,this.popUpMsg=null,void 0!==c&&(this.popUpMsg=c)},a.District=function(a,b,c,d){void 0===a&&(a=-1),void 0===b&&(b="n/a"),void 0===c&&(c="District name"),void 0===d&&(d="District name Arabic"),this.id=a,this.abbreviation=b,this.nameLatin=c,this.nameArabic=d},a.Street=function(){this.id=-1,this.nameLatin="Latin street name",this.nameArabic="Arabic street name"},a.Layers={MapEnglish:L.tileLayer("http://geoportal.abudhabi.ae/rest/services/BaseMapEnglish/MapServer/tile/{z}/{y}/{x}",{attribution:"Map data &copy; Abu Dhabi Municipality / Abu Dhabi SDI",maxZoom:12,minZoom:0,continuousWorld:!0}),MapArabic:L.tileLayer("http://geoportal.abudhabi.ae/rest/services/BaseMapArabic/MapServer/tile/{z}/{y}/{x}",{attribution:"Map data &copy; Abu Dhabi Municipality / Abu Dhabi SDI",maxZoom:12,minZoom:0,continuousWorld:!0}),Satellite50cm:L.tileLayer("http://geoportal.abudhabi.ae/rest/services/BaseMapSatellite50cm/MapServer/tile/{z}/{y}/{x}",{attribution:"Map data &copy; Abu Dhabi Municipality / AD-SDI",maxZoom:12,minZoom:0,continuousWorld:!0})};var b=[];a.crs=new L.Proj.CRS("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs",{origin:[-400,400],resolutions:[.011897305029151402,.005948652514575701,.0029743262572878505,.00118973050291514,.00059486525145757,.00035691915087454206,.00017845957543727103,.00011897305029151401,59486525145757005e-21,35691915087454204e-21,1903568804664224e-20,951784402332112e-20,475892201166056e-20]}),a.map=null,a.init=function(b,c,d,e,f){if(a.map=L.map(b,{dragging:!0,zoomControl:!0,attributionControl:!1,crs:a.crs}),void 0===e&&(e=5),a.map.addLayer(a.Layers.Satellite50cm),a.map.addControl(new L.Control.Layers({"English base map":a.Layers.MapEnglish,"Arabic base map":a.Layers.MapArabic,"Satellite image":a.Layers.Satellite50cm},{},{collapsed:!0,position:"topright"})),f===!0){var g=new signDbMap.Point(c,d);a.addMarkers([g])}a.map.setView(new L.LatLng(d,c),e)},a.round=function(a,b){void 0===b&&(b=6);for(var c=1,d=0;b>d;d++)c=10*c;return Math.round(a*c,b)/c},a.center=function(b,d){c()&&a.map.panTo(new L.latlng(d,b))},a.getDistrictByXY=function(a,b){return new signDbMap.District},a.getStreetByXY=function(a,b){return new signDbMap.Street},a.onClick=function(b){c()&&a.map.on("click",function(a){b(a.latlng.lng,a.latlng.lat)})};var c=function(){return null===a.map?(console.debug("Map is not initialized"),!1):!0};return a.addMarkers=function(d){if(c()){for(var e=0;e<b.length;e++)a.map.removeLayer(b[e]);for(e=0;e<d.length;e++)b.push(L.marker(new L.LatLng(d[e].y,d[e].x,0)).addTo(a.map))}},a}();